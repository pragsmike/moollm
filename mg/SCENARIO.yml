# ═══════════════════════════════════════════════════════════════════════════════
# SCENARIO.yml — Multi-Character Interaction State (LEGACY/TEMPLATE)
# 
# NOTE: This file is now a template. For new scenarios, create a directory in
# scenarios/ and copy scenarios/.template-SCENARIO.yml there.
#
# This file tracks the RUNTIME state of character interactions:
# - Which characters are active in the scenario
# - Current topic/round of discussion
# - Dialogue state and turn order
# - Session history
#
# Adapted from ADVENTURE.yml for dialogue/interaction scenarios
# ═══════════════════════════════════════════════════════════════════════════════

scenario:
  name: null  # e.g., "AI Ethics Debate", "Climate Policy Roundtable"
  type: null  # debate, roundtable, interview, symposium, dialogue
  
  # ─────────────────────────────────────────────────────────────────────────────
  # ACTIVE PARTICIPANTS
  # List ALL character files participating in this scenario
  # ─────────────────────────────────────────────────────────────────────────────
  
  active_participants:
    # - characters/character-1.yml
    # - characters/character-2.yml
    []
    
  # ─────────────────────────────────────────────────────────────────────────────
  # CURRENT FOCUS
  # Who is currently speaking or being addressed?
  # Can be a single character or "all" for group scenes
  # ─────────────────────────────────────────────────────────────────────────────
  
  current_focus: null  # e.g., "characters/alice.yml" or "all"
  
  # ─────────────────────────────────────────────────────────────────────────────
  # SCENARIO STATE
  # Current topic, round, phase of interaction
  # ─────────────────────────────────────────────────────────────────────────────
  
  state:
    topic: null           # Current topic of discussion
    round: 0              # Round number (for structured debates)
    phase: null           # opening, discussion, rebuttal, closing, etc.
    turn_order: []        # Order of speakers (if structured)
    current_speaker: null # Who's turn it is
    
    # For debates:
    positions: {}         # Character positions on the topic
    #   character-1: "pro"
    #   character-2: "con"
    
    # For roundtables:
    topics_covered: []    # List of topics discussed
    
  # ─────────────────────────────────────────────────────────────────────────────
  # DIALOGUE STATE
  # Track the flow of conversation
  # ─────────────────────────────────────────────────────────────────────────────
  
  dialogue:
    transcript_path: null  # Where transcripts are saved
    current_exchange: null # Current back-and-forth
    key_points: []          # Major points raised
    agreements: []         # Points of consensus
    disagreements: []       # Points of conflict
    
  # ─────────────────────────────────────────────────────────────────────────────
  # SIMULATION STATE
  # Global state affecting all participants
  # ─────────────────────────────────────────────────────────────────────────────
  
  simulation:
    turn_number: 0
    time_elapsed: null     # Duration of scenario
    
    # Global flags
    flags:
      scenario_started: false
      scenario_complete: false
      
    # Pending events (processed by coherence engine)
    event_queue: []
    
  # ─────────────────────────────────────────────────────────────────────────────
  # SESSION HISTORY
  # Lightweight log of significant events
  # (Full transcript is in transcripts/)
  # ─────────────────────────────────────────────────────────────────────────────
  
  session:
    started: null         # Timestamp when scenario began
    last_action: null     # Last character action/speech
    last_speaker: null    # Who spoke last
    
  # ─────────────────────────────────────────────────────────────────────────────
  # COMMANDS
  # How to control the scenario:
  # ─────────────────────────────────────────────────────────────────────────────
  #
  # > START SCENARIO "AI Ethics Debate" with alice, bob, charlie
  # > SET TOPIC "Should AI have rights?"
  # > NEXT ROUND
  # > @alice Respond to bob's point about consciousness
  # > ALL Discuss the implications
  # > SAVE TRANSCRIPT
  # > END SCENARIO

# ═══════════════════════════════════════════════════════════════════════════════
# DOVETAILS WITH
# ═══════════════════════════════════════════════════════════════════════════════
#
# - characters/           — Character files (transformed from bios)
# - bios/                 — Source character sketches
# - transcripts/         — Dialogue transcripts
# - skills/adventure/     — Similar structure, different focus
# - skills/coherence-engine/  — What processes this file
# - skills/soul-chat/     — Character dialogue patterns

