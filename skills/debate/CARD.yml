# CARD.yml â€” Debate
#
# Structured multi-perspective deliberation.
# "Make the stories fight. See what survives."

card:
  id: debate
  name: "Debate"
  type: [skill, decision, ensemble, dataflow]
  
  emoji: ðŸŽ¤
  
  rarity: uncommon
  
  description: |
    Structured debate between opposing positions.
    Each side argues, moderator manages, audience votes.
    Can use data flow to connect components.
    
    Play this card for complex decisions that need
    cross-examination from multiple perspectives.
    
  inherits: [adversarial-committee, roberts-rules]

# TOOLS REQUIRED

tools:
  required:
    - read_file   # Read debate state
    - write_file  # Update transcript
  optional: []

tier: 1  # File read/write

# METHODS

methods:
  
  CREATE_DEBATE:
    description: "Initialize a new debate"
    parameters:
      topic: "What's being debated"
      format: "oxford, roundtable, panel"
      sides: "How many positions (2+)"
    output: file (DEBATE.yml) + chat
    effect: "Create debate structure"
    invoked_by: [player, room]
    
  ADD_SIDE:
    description: "Add a position to the debate"
    parameters:
      name: "Position name"
      argument: "Initial argument"
      advocates: "Who argues for this side"
    output: file (SIDE.yml) + state_change
    effect: "Create side with advocates"
    invoked_by: [player, committee]
    
  OPEN:
    description: "Begin the debate with opening statements"
    parameters: {}
    output: chat (opening statements)
    effect: "Each side presents initial position"
    invoked_by: [moderator, player]
    
  ARGUE:
    description: "Present arguments for a side"
    parameters:
      side: "Which side"
      point: "Argument to make"
    output: chat (argument) + state_change
    effect: "Add to transcript, other sides may respond"
    invoked_by: [advocate, player]
    
  REBUT:
    description: "Counter an opponent's argument"
    parameters:
      target: "Argument to rebut"
      counter: "Counter-argument"
    output: chat (rebuttal) + state_change
    effect: "Add rebuttal to transcript"
    invoked_by: [advocate]
    
  QUESTION:
    description: "Ask a question (from audience/moderator)"
    parameters:
      to: "Side or advocate"
      question: "What to ask"
    output: chat (question + response)
    effect: "Side must respond"
    invoked_by: [moderator, audience, player]
    
  VOTE:
    description: "Audience votes on winner"
    parameters:
      style: "majority, ranked, approval"
    output: chat (results) + state_change
    effect: "Tally votes, declare outcome"
    invoked_by: [moderator]
    
  GONG:
    description: "Emergency interrupt (from Gong of Gezelligheid)"
    parameters:
      rings: "1=attention, 2=emergency, 3=mercy"
    output: chat + state_change
    effect: "Interrupt or end debate"
    invoked_by: [gong, moderator]
    
  CLOSE:
    description: "End debate with closing statements"
    parameters: {}
    output: chat (closing) + file (TRANSCRIPT.md)
    effect: "Generate final transcript"
    invoked_by: [moderator]

# STATE

state:
  debate_schema:
    topic:
      type: string
    format:
      type: enum
      values: [oxford, roundtable, panel, freestyle]
    sides:
      type: array
      description: "List of SIDE.yml references"
    moderator:
      type: string
      description: "Who's moderating"
    status:
      type: enum
      values: [setup, opening, main, closing, voting, complete]
    transcript:
      type: array
      description: "Record of all statements"
    votes:
      type: object
      description: "Vote tallies if voting occurred"

# DEBATE FORMATS

formats:
  oxford:
    description: "Formal two-sided debate"
    sides: 2
    rounds: [opening, rebuttal, closing]
    
  roundtable:
    description: "Multiple perspectives, less adversarial"
    sides: "3-8"
    rounds: [statements, discussion, synthesis]
    
  panel:
    description: "Experts discuss, audience questions"
    sides: "3-5"
    rounds: [presentations, questions, discussion]

# DATA FLOW ENSEMBLE

data_flow:
  description: "Debate can be part of a data flow network"
  inputs:
    - topic (from problem definition)
    - perspectives (from committee)
  outputs:
    - transcript (to evaluator)
    - decision (to action system)
  
  example_pipeline: |
    Problem â†’ Committee â†’ Debate â†’ Evaluator â†’ Decision

# ADVERTISEMENTS

advertisements:
  STRUCTURED_DEBATE:
    score: 95
    condition: "Need structured comparison of positions"
    
  RESOLVE_CONFLICT:
    score: 90
    condition: "Multiple perspectives in disagreement"
    
  CROSS_EXAMINE:
    score: 85
    condition: "Ideas need stress-testing"

# RELATED

see_also:
  - skills/adversarial-committee  # Committee feeds debate
  - skills/roberts-rules          # Procedure
  - skills/rubric                 # Scoring criteria
  - skills/evaluator              # Independent assessment
  - skills/data-flow              # Pipeline integration

# CREDITS

credits:
  methodology:
    - "Mike Gallaher â€” Stories All the Way Down"
    - "Oxford Union â€” Debate format"
  implementation:
    - "Don Hopkins â€” MOOLLM integration"
