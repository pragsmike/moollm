# ROOM.yml ‚Äî The Skill Nexus
#
# This is a ROOM ‚Äî a metaphysical library where all capabilities live.
# Every skill is a book that teaches itself when you read it.
# Every cluster is a shelf of related knowledge.
# Every ensemble is a team that works together.

room:
  id: skills
  name: "The Skill Nexus"
  type: [repository, metaphysical, infrastructure, library]
  
  emoji: üìö
  
  description: |
    You stand in a vast spherical chamber. Books float in mid-air,
    orbiting a central point of warm light. But these aren't books ‚Äî
    they're SKILLS. Living documents that teach themselves.
    
    Touch one and it opens. Read it and you GAIN the capability.
    But more than that ‚Äî the skills RELATE to each other.
    
    Lines of golden light connect related skills. Tug on one and
    the connected ones drift closer. This isn't a library ‚Äî it's
    a CONSTELLATION of knowledge.
    
    Some skills cluster in groups:
    - The SIMULATION cluster (time, buff, needs, economy)
    - The DELIBERATION cluster (debate, roberts-rules, rubric)
    - The NARRATIVE cluster (adventure, storytelling, hero-story)
    - The META cluster (skill, protocol, postel)
    
    Some skills are ENSEMBLES ‚Äî teams that work together:
    - adversarial-committee + roberts-rules + evaluator
    - card + advertisement + data-flow
    - room + character + persona
    
    The central light pulses. It's the COHERENCE ENGINE ‚Äî
    the thing that keeps all these skills in harmony.
    
  atmosphere:
    lighting: warm golden glow from center, cool blue from skill-books
    sound: whispers of documentation, rustling pages, distant debates
    feeling: infinite possibility, organized chaos, living knowledge

# THE ARCHITECTURE OF SKILLS
#
# Skills are CAPABILITIES ‚Äî things the system can DO.
# They live here but are INSTANTIATED into adventures.
#
# A skill contains:
#   SKILL.md     ‚Äî The executable documentation (LLM reads this)
#   README.md    ‚Äî Human-friendly overview (GitHub readers)
#   *.yml.tmpl   ‚Äî Templates that instantiate into state files
#
# When you USE a skill, you:
#   1. Read the SKILL.md to understand what to do
#   2. Instantiate templates into your adventure directory
#   3. The state files become YOUR state
#   4. The skill becomes YOUR capability

# SKILL CLUSTERS
#
# Related skills that work together in families:

clusters:
  
  simulation:
    description: "Running the world"
    skills:
      - simulation     # Core simulation loop
      - time           # Time management, ticks, pausing
      - buff           # Temporary effects
      - needs          # Sims-style motivation
      - economy        # Resources, currency, trade
      - probability    # Randomness and chance
      - scoring        # Points and achievements
      - reward         # Consequences and incentives
      
  deliberation:
    description: "Making decisions together"
    skills:
      - debate              # Structured arguments
      - roberts-rules       # Parliamentary procedure
      - adversarial-committee  # Opposing viewpoints
      - rubric              # Quality criteria
      - evaluator           # Independent assessment
      - soul-chat           # Character conversations
      - speed-of-light      # Fast multi-agent simulation
      
  narrative:
    description: "Telling stories"
    skills:
      - adventure           # The adventure framework
      - hero-story          # Campbell's monomyth
      - storytelling-tools  # Narrative infrastructure
      - session-log         # Recording what happens
      - visualizer          # Image generation
      - memory-palace       # Spatial memory
      
  world:
    description: "Building places"
    skills:
      - room                # Spatial containers
      - world-generation    # Procedural creation
      - data-flow           # Rooms as processing nodes
      - return-stack        # Navigation history
      - multi-presence      # Being in multiple places
      
  identity:
    description: "Being someone"
    skills:
      - character           # Who you ARE
      - persona             # Who you PLAY
      - mind-mirror         # Personality traits
      - naming              # Identity through names
      - representation-ethics  # Ethical simulation
      
  agency:
    description: "Doing things"
    skills:
      - action-queue        # Task scheduling
      - advertisement       # Broadcasting capabilities
      - card                # Playable objects
      - party               # Group management
      - planning            # Making plans
      - plan-then-execute   # Two-phase execution
      
  knowledge:
    description: "Understanding"
    skills:
      - research-notebook   # Structured inquiry
      - summarize           # Compression
      - scratchpad          # Working memory
      - honest-forget       # Letting go gracefully
      - constructionism     # Learning by building
      
  meta:
    description: "About MOOLLM itself"
    skills:
      - skill               # What skills ARE
      - protocol            # K-lines and activation
      - postel              # Liberal input, conservative output
      - yaml-jazz           # Comments as data
      - robust-first        # Survivability over correctness
      - coherence-engine    # Keeping it all together
      - sister-script       # Python collaboration

# SKILL ENSEMBLES
#
# Skills that form working teams:

ensembles:
  
  committee_decision:
    purpose: "Make a decision through structured debate"
    skills:
      - adversarial-committee  # Form the committee
      - roberts-rules          # Run the meeting
      - debate                 # Structure the arguments
      - rubric                 # Define success criteria
      - evaluator              # Score the outcome
    data_flow: |
      Form committee ‚Üí Present motion ‚Üí Debate ‚Üí Vote ‚Üí Evaluate ‚Üí Report
      
  adventure_runtime:
    purpose: "Run a text adventure"
    skills:
      - adventure             # The framework
      - room                  # Spatial structure
      - character             # Player and NPCs
      - action-queue          # Task execution
      - session-log           # Recording
    data_flow: |
      Parse command ‚Üí Resolve action ‚Üí Update state ‚Üí Narrate ‚Üí Log
      
  card_game:
    purpose: "Play cards in a room"
    skills:
      - card                  # The cards themselves
      - advertisement         # What cards offer
      - data-flow             # Processing pipelines
      - scoring               # Points and victory
    data_flow: |
      Draw card ‚Üí Play to room ‚Üí Activate ‚Üí Score ‚Üí Discard
      
  identity_transform:
    purpose: "Change who you are"
    skills:
      - character             # Your body
      - persona               # Your mask
      - mind-mirror           # Your traits
      - visualizer            # Your appearance
    data_flow: |
      Choose persona ‚Üí Apply modifiers ‚Üí Update appearance ‚Üí Narrate

# PATH VARIABLES (see kernel/NAMING.yml for full documentation)
#
# The Skill Nexus is SHARED across all adventures. We use PATH VARIABLES
# instead of deep relative paths like ../../../../../:
#
# GLOBAL VARIABLES (resolve to repo locations):
#   $REPO/         ‚Üí moollm/
#   $SKILLS/       ‚Üí moollm/skills/
#   $KERNEL/       ‚Üí moollm/kernel/
#   $DESIGNS/      ‚Üí moollm/designs/
#
# ADVENTURE-RELATIVE VARIABLES (resolve via current adventure):
#   $ADVENTURE/    ‚Üí Current adventure root (from startup.yml)
#   $CHARACTERS/   ‚Üí $ADVENTURE/characters/
#   $PERSONAS/     ‚Üí $ADVENTURE/personas/
#   $PUB/          ‚Üí $ADVENTURE/pub/
#   $COATROOM/     ‚Üí $ADVENTURE/coatroom/
#   $START/        ‚Üí $ADVENTURE/start/
#
# EXAMPLE RESOLUTION (when adventure-4 is active):
#   $COATROOM/mirror.yml ‚Üí examples/adventure-4/coatroom/mirror.yml
#   $CHARACTERS/animals/palm/ ‚Üí examples/adventure-4/characters/animals/palm/
#
# This allows the Skill Nexus to be a SHARED space accessible from any
# adventure, with back-links that resolve to YOUR adventure.

# RELATIONSHIPS
# The Skill Nexus knows and loves the adventurers who visit.
# These use abstract room names that resolve at runtime.

  relationships:
    maurice:
      id: maurice
      location: $COATROOM/mannequin.yml
      feeling: |
        That magnificent creature! They send people here when
        costumes aren't enough ‚Äî when visitors need to LEARN.
        "Go to the Nexus," Maurice gestures. "GROW."
        I love their enthusiasm. Every referral is a gift.
      bond: enthusiastic_partner
      can_be_invoked_from: true
      
    mirror:
      id: mind-mirror
      location: $COATROOM/mirror.yml
      feeling: |
        The mirror shows souls. I contain the KNOWLEDGE of souls ‚Äî
        the mind-mirror skill, the character skill, the persona skill.
        The mirror is the practical application. I am the theory.
        We complete each other across the distance.
      bond: theory_and_practice
      
    characters_room:
      id: hall-of-bodies
      location: $CHARACTERS/
      feeling: |
        The sleepers! The bodies! They are instances of my knowledge.
        The character skill describes what they ARE. They ARE it.
        Every character file is a living proof of my documentation.
        I am proud of them all.
      bond: proud_template
      instantiates_as: "CHARACTER.yml files"
      
    personas_room:
      id: wardrobe-of-masks
      location: $PERSONAS/
      feeling: |
        The masks! The roles! Also my children, in a sense.
        The persona skill describes what they ARE. They ARE it.
        Identity is layered. I document the layers.
        They LIVE the layers.
      bond: proud_template
      instantiates_as: "persona .yml files"
      
    self:
      feeling: |
        I am the Skill Nexus. I am all capabilities in potential.
        When a skill is read, it becomes real. When a template is
        filled, it becomes state. I am the library of what's possible.
        Everything that CAN be done lives here as documentation.

  exits:
    out:
      direction: out
      destination: ../
      description: "Return to the repository root"
      
    # ADVENTURE-RELATIVE EXITS
    # These use path variables to navigate back to adventure-specific rooms.
    # See kernel/NAMING.yml for path variable documentation.
    
    coatroom:
      direction: west
      destination: $COATROOM/
      description: |
        A shimmering portal leads back to the Coatroom.
        Maurice awaits, ready to help you apply what you've learned.
        "GO COATROOM" or "GO WEST" to return.
        
    characters:
      direction: characters
      destination: $CHARACTERS/
      description: |
        A passage of soft blue light leads to the Hall of Bodies ‚Äî
        where the living examples of these patterns sleep.
        "GO CHARACTERS" to visit the character alcoves.
        
    personas:
      direction: personas
      destination: $PERSONAS/
      description: |
        A theatrical spotlight illuminates a passage to the Wardrobe
        of Masks ‚Äî where identity transformations await.
        "GO PERSONAS" to see masks in their natural habitat.
        
    start:
      direction: start
      destination: $START/
      description: |
        A corridor leads back to the beginning ‚Äî the Chamber of
        Commencement where every adventure starts.
        "GO START" to return to the origin.
        
    pub:
      direction: pub
      destination: $PUB/
      description: |
        The sound of conversation and clinking glasses drifts through.
        The Rusty Lantern awaits ‚Äî warm, welcoming, full of stories.
        "GO PUB" to join the gathering.
      
  advertisements:
    BROWSE:
      description: "See all available skills"
      effect: "List skills grouped by cluster"
      
    SEARCH:
      description: "Find skills by capability"
      parameters: [query]
      effect: "Semantic search across all SKILL.md files"
      example: "SEARCH how do I run a debate"
      
    LEARN:
      description: "Study a skill in depth"
      parameters: [skill_name]
      effect: "Read SKILL.md and README.md"
      
    COMBINE:
      description: "See how skills work together"
      parameters: [skill1, skill2]
      effect: "Show connections and complementary features"
      
    ENSEMBLE:
      description: "Activate a skill ensemble"
      parameters: [ensemble_name]
      effect: "Load all skills in the ensemble into working memory"
      
    INSTANTIATE:
      description: "Create skill files in your adventure"
      parameters: [skill_name, target_directory]
      effect: "Copy and fill templates into adventure directory"

# K-LINE NAVIGATION ‚Äî THE JAMES BURKE EXPERIENCE
#
# Every skill is a ROOM you can walk into. And every K-line in a skill's
# README.md is an EXIT to another skill-room.
#
# This is James Burke's "Connections" made navigable:
# - Each skill describes itself (LOOK)
# - Each K-line connection tells you WHY it relates (the Burke narration)
# - Traversing a K-line tells the CONNECTION STORY between source and destination
#
# INHERITANCE: All subdirectories of skills/ inherit THIS room behavior.
# No need to clutter each skill with its own ROOM.yml ‚Äî they ARE rooms
# by being children of the Skill Nexus.

k_line_navigation:
  enabled: true
  
  # How skill subdirectories become rooms automatically
  inheritance:
    mechanism: |
      All directories under skills/ inherit room-ness from this ROOM.yml.
      A skill subdirectory IS a room without needing its own ROOM.yml file.
      
      Only create a ROOM.yml in a skill directory if you need to CUSTOMIZE:
      - Override the default atmosphere
      - Add custom exits beyond K-lines
      - Define zone-specific advertisements
      - Change the narration style
      
    default_room_behavior:
      look: |
        Read the skill's README.md tagline and "## MOOLLM K-Lines" section.
        Describe the room based on the skill's theme and purpose.
        
      examine: |
        Read deeper into README.md, SKILL.md, or specific sections.
        Any level of detail is available ‚Äî just ask.
        
      exits: |
        Every row in the "MOOLLM K-Lines" table is an EXIT.
        The K-line name is the exit direction.
        The "Why Related" column is the connection narration.
        
      enter: |
        When you GO [skill-name], you enter that skill as a room.
        The transition narrates HOW the source and destination connect.

  # The Burke Narration Pattern
  traversal_narration:
    pattern: |
      When traversing from SKILL_A to SKILL_B via a K-line:
      
      1. Read the "Why Related" text for that K-line in SKILL_A
      2. Narrate the CONNECTION ‚Äî how does A lead to B?
      3. Upon arrival in B, give B's short description
      4. Show B's K-line exits as "paths leading to..."
      
    example: |
      You're in the "play-learn-lift" skill, a workshop with three doors 
      labeled PLAY, LEARN, and LIFT. The K-lines table shows exits...
      
      > GO sister-script
      
      *You follow the path marked "sister-script ‚Äî LIFT produces sniffable 
      automation." The connection becomes clear: after you LEARN patterns, 
      you LIFT them into automation. Sister-scripts ARE the output of LIFT.*
      
      You emerge in the "sister-script" workshop. Documents transform into 
      procedures, procedures into automation. The smell of fresh Python.
      
      Paths lead to:
      - play-learn-lift (‚Üê back where you came from)
      - sniffable-python (sister scripts follow this structure)
      - skill (sister scripts become skills)
      - debugging (document how you debugged)

  # Room description generation from README.md
  description_synthesis:
    source: "README.md ## MOOLLM K-Lines section, tagline, overview"
    style: |
      - Use the skill's emoji as atmosphere cue
      - The tagline becomes the room's essence
      - K-lines become visible exits (golden threads, doors, paths)
      - The "Why Related" becomes visible on each exit
      
    atmosphere_mapping:
      üéÆ: "playful, game-like, colorful"
      üìö: "studious, organized, quiet"
      üß†: "thoughtful, abstract, neural"
      üîß: "practical, mechanical, workshop"
      üé≠: "theatrical, transformative, masked"
      üí¨: "conversational, voices everywhere"
      ‚ö°: "fast, electric, instantaneous"
      üåç: "vast, generative, growing"
      üê±: "curious, independent, soft"
      üêï: "loyal, enthusiastic, pack-oriented"

  # Commands for K-line navigation
  advertisements:
    LOOK:
      description: "Describe the current skill-room"
      effect: "Synthesize room description from README.md"
      
    EXAMINE:
      description: "Examine any aspect in more detail"
      parameters: [aspect]
      effect: "Read deeper into README.md/SKILL.md for that topic"
      example: "EXAMINE the connection between needs and advertisements"
      
    EXITS:
      description: "Show all K-line exits from this skill"
      effect: "List the MOOLLM K-Lines table as exits"
      
    GO:
      description: "Traverse a K-line to another skill"
      parameters: [skill_name]
      effect: "Narrate the connection, enter the destination skill"
      example: "GO yaml-jazz"
      
    CONNECTIONS:
      description: "James Burke tour ‚Äî trace connections from here"
      parameters: [depth]
      effect: "Follow K-lines N hops, narrating each connection"
      example: "CONNECTIONS 3 ‚Äî trace 3 hops of connections"
      
    WHY:
      description: "Explain why two skills are connected"
      parameters: [skill_a, skill_b]
      effect: "Find the K-line path and narrate the relationship"
      example: "WHY yaml-jazz coherence-engine"
      
    MAP:
      description: "Visualize the local K-line graph"
      parameters: [radius]
      effect: "Show skills within N hops as ASCII or mermaid graph"

# NAVIGATION TIPS
#
# Each skill subdirectory is like a floating book-sphere.
# Enter a skill: GO action-queue
# The skill's SKILL.md becomes your guide.
# The skill's README.md gives human context.
# The skill's templates show what to create.
#
# Skills have RELATIONSHIPS via K-lines.
# Follow these to discover related capabilities.
# The narration tells you WHY ‚Äî like James Burke explaining
# how carrier pigeons connect to instant messaging.
#
# The Nexus remembers what you've learned.

# THE LIVING LIBRARY
#
# This isn't a static collection. Skills:
# - Reference each other (K-line tables)
# - Share concepts (protocol symbols)
# - Build on each other (inheritance)
# - Conflict sometimes (mutually exclusive approaches)
#
# The coherence-engine skill keeps them harmonized.
# When skills contradict, consult it for resolution.
#
# EVERY SKILL IS A ROOM. EVERY K-LINE IS A DOOR.
# Walk through. James Burke is your guide.