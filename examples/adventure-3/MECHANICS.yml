# üéÆ ADVENTURE GAME MECHANICS
# Core systems for adventure-3 and beyond
# See also: kitchen/mothers-note.yml (letter, goals, Mother)

# üéØ SCORING

scoring:
  principle: |
    Scores are CALCULATED at completion, not fixed upfront.
    HOW you accomplish goals matters as much as WHAT you accomplish.
    
  factors: [style, difficulty, emergent, context, reviews]
  
  modifiers:
    creative_solution: "+50%"
    overwhelming_odds: "+100%"
    taught_to_npc: "+50%"
    after_multiple_deaths: "+25%"

# üé™ SKILLS

skills:
  acquisition: |
    Skills emerge from PLAY, not menus:
    - Repeated actions crystallize into skills
    - Creative solutions become techniques
    - NPCs can teach, family traditions
    
  valuation: {rarity, utility, difficulty, emergent}
  
  tiers:
    planned: "Base value"
    discovered: "+50%"
    emergent: "+100%"
    legendary: "+200%"
    
  operations:
    - "TRADE SKILL [skill] TO [npc] FOR [thing]"
    - "TEACH SKILL [skill] TO [npc]"
    - "AUCTION SKILL [skill]"
    - "BEQUEATH SKILL [skill] TO [future]"

# üíÄ CURSES

curses:
  principle: "Challenges that create GOALS for self-improvement. The scar becomes a story."
  
  acquisition:
    actions: [broken promises, wasting food, abandoning companions]
    encounters: [grue attack survived, failed puzzle]
    items: [cursed ACME, monkey's paw, chain letter broken]
    
  examples:
    CURSE-OF-DARKNESS: {effect: "Lamp -25%", lift: "3 dark places lit", reward: "LIGHT-BEARER"}
    CURSE-OF-BROKEN-WORD: {effect: "Trust down", lift: "5 promises kept", reward: "OATH-KEEPER"}
    # Also: HUNGER, GRUE, LOST-THINGS, HUBRIS, SOLITUDE, IMPATIENCE
    
  mechanics:
    stacking: "3x = LEGENDARY"
    immunity: "After lifting 4x"
    voluntary: "ACCEPT CURSE FOR benefit"
    transfer: "Possible but Mother finds out"

# üíé REWARDS

rewards:
  principle: "THEMATICALLY APPROPRIATE to skills earned. DM generates dynamically."
  types: [items, abilities, titles, heirlooms]

# üë®‚Äçüë©‚Äçüëß‚Äçüë¶ PARTY

party:
  recruitment: [ask NPCs, ask Mother about family, summon via skill, hire with gold]
  
  roles:
    frontline: "Fighter, Guardian, Tank"
    support: "Navigator, Light-Bearer, Pack Mule"
    specialist: "Photographer, Painter, Chef, Merchant"
    mystic: "Oracle, Medium, Postal Savant, Self Help Guru"
    wildcard: "Pet, Sibling, Reformed Grue"
    
  commands:
    formation: "PARTY FORMATION [line/circle/defensive]"
    orders: "HOLD / FOLLOW / SCATTER / REGROUP"
    individual: "[COMPANION] GUARD / SCOUT / FETCH"
    special: "SWARM, POSSESS, SUMMON"
    
  dynamics: "Companions have relationships with you AND each other."
  
  # Asking about siblings/pets CREATES them!

# üåç WORLD GENERATION

world_generation:
  principle: "World GROWS as you explore. Questions create places."
  
  triggers:
    questions: "'Where did grue come from?' ‚Üí area appears"
    statements: "'There must be a library!' ‚Üí maybe..."
    actions: "DIG, CLIMB, SWIM, BREAK ‚Üí passages"
    quests: "Objectives generate required locations"
    
  templates: [expansion, destination, surprise, lair, flashback]
  
  object_generation: "Quest items, clues, tools, rewards materialize"
  npc_generation: "Quest requires person, room empty, letter mentions someone"
  
  # SUB-DIRECTORIES AS BEHAVIOR CONTAINERS
  # New room clusters go in sub-directories to:
  # 1. Attach shared mechanics (like maze/ ‚Üí dark rooms, grue danger)
  # 2. Keep rooms organized and scoped
  # 3. Enable directory-level README with local rules
  # 4. Allow inheritance: room inherits from directory defaults
  
  directory_patterns:
    maze/: "Dark rooms, grue mechanics, twisty passages"
    basement/: "Damp, underground, connects to maze depths"
    tower/: "Height, wind, views, vertical navigation"
    dungeon/: "Cells, guards, escape puzzles"
    garden/: "Outdoor, weather, growing things"
    library/: "Books, knowledge, quiet, no food allowed"
    
  areas:
    DEEPER_MAZE: "DOWN ‚Üí maze/depths/ (ancient, colder)"
    THE_SURFACE: "UP ‚Üí surface/ (outside world)"
    MOTHER_S_DUNGEON: "Flashback ‚Üí flashback/mothers-dungeon/"
    POSTAL_DIMENSION: "Following mail ‚Üí postal/"
    GRUE_HOMELAND: "Following grue ‚Üí grue-homeland/"
    
  linking: "All TWO-WAY. Tom updates. VISIBLE/HIDDEN/CONDITIONAL/TIMED/ONE-WAY"

# üèõÔ∏è TOPOLOGIES

topologies:
  principle: "Different areas use different spatial structures."
  
  patterns:
    twisty_maze: {diagram: "A‚ÜîB crossed C‚ÜîD", use: "challenge, grue, dreams"}
    long_hall: {diagram: "[A][B][C] with branches", use: "castles, prisons"}
    corridor: {diagram: "one space, conceptual", use: "caverns, markets"}
    grid: {diagram: "N/S/E/W regular", use: "cities, chess"}
    star: {diagram: "HUB with spokes", use: "throne, crossroads, PIE MENUS"}
    pie_tree: {diagram: "ROOT‚Üíbranches‚Üíleaves", use: "libraries, SKILL TREES"}
    loop: {diagram: "A‚ÜíB‚ÜíC‚ÜíD‚ÜíA", use: "racing, time loops"}
    dead_ends: {diagram: "one exit", use: "treasure, boss, traps"}
    zigzag: {diagram: "switchbacks", use: "mountains, tutorials"}
    hybrid: "Real dungeons MIX!"
    
  narrative_matching:
    civilized: "Grid, Hall, Star"
    wild: "Twisty, Loop, Zigzag"
    dangerous: "Dead ends, Maze"
    social: "Star, Corridor"

# üîó CROSS-REFERENCES

see_also:
  letter_and_goals: "kitchen/mothers-note.yml"
  navigation_companion: "kitchen/tomtomagotchi.yml"
  pub_themes: "pub/ROOM.yml"
  maze_mechanics: "maze/README.md"
  crafting: "kitchen/counter.yml"
  postal_service: "start/mailbox.yml"
