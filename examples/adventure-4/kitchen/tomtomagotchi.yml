# ðŸ§­ THE TOMTOMAGOTCHI
# A navigation companion that grows with your adventure
# Part GPS, part pet, part oracle, part friend

object:
  name: TomTomagotchi
  type: navigation_companion
  portable: true
  
  description: |
    A small, egg-shaped device with a glowing screen sits on the kitchen counter.
    It has a single blinking eye and what might be a smile. The screen shows
    a compass rose that spins lazily, waiting for purpose.
    
    A tag attached reads: "TOMTOMAGOTCHI â€” Your Maze Friend!"
    Underneath, in smaller text: "Batteries not included. Love is."
    
    It chirps hopefully when you approach.
    
  examine: |
    The TomTomagotchi's screen lights up as you look at it.
    
    "HELLO! I am TOM! I help you NOT GET LOST!"
    "I also help you GET FOUND!"
    "Feed me DISCOVERIES and I grow SMARTER!"
    
    Current Status:
    - Map Knowledge: EMPTY (explore to fill me!)
    - Markers Known: 0 (drop or eat food!)
    - Smell Database: BLANK (sniff things!)
    - Affection Level: HOPEFUL
    
  # CORE ABILITIES (always available)
  
  abilities:
    COMPASS:
      description: "Point toward a target"
      usage: "COMPASS [target]"
      targets:
        - start     # Always knows home
        - home      # The surface
        - treasure  # The goal
        - [any discovered location]
        - [any smell source]
        - [any tagged object]
      response: |
        The compass needle spins and settles.
        "TARGET: [name]"
        "DIRECTION: [cardinal direction]"
        "DISTANCE: [rooms away]"
        "FEELING: [Tom's opinion]"
        
    MAP:
      description: "Display known maze layout"
      usage: "MAP"
      response: |
        Tom's screen expands to show explored rooms.
        Unexplored areas show as "???"
        Markers glow at their locations.
        Current position pulses.
        
    SNIFF:
      description: "Analyze smell gradients"
      usage: "SNIFF"
      response: |
        Tom's tiny nose twitches.
        "I DETECT:"
        [Lists smells by direction and intensity]
        "RECOMMENDATION: [navigation suggestion]"
        
    WHERE:
      description: "Announce current location"
      usage: "WHERE / WHERE AM I"
      response: |
        "YOU ARE IN: [room name]"
        "EXITS: [list with destinations if known]"
        "NEARBY: [known markers and smells]"
        
  # ðŸ—ºï¸ GTA-STYLE MISSION MAP â€” Pips for everything!
  
  mission_map:
    description: |
      Tom's screen displays a GTA-style minimap with PIPS:
      - Color-coded markers for different objective types
      - Distance rings showing proximity
      - Directional arrows pointing to off-screen objectives
      - Blinking urgency indicators
      
    pip_types:
      # STORY MARKERS â€” Gold/Yellow (Main Missions)
      
      main_mission:
        color: "GOLD â­"
        shape: "star"
        blinks: true
        examples:
          - "RETRIEVE TREASURE: Points to end room"
          - "FIND SIBLING: Points to last known location"
          - "RETURN HOME: Points to home when treasure obtained"
          - "AVENGE SKELETON: Points to grue's probable location"
          
      mother_mission:
        color: "PINK ðŸ’—"
        shape: "heart"
        priority: "urgent"
        examples:
          - "REPLY TO MOTHER: Points to table (letter)"
          - "SEND LETTER: Points to mailbox"
          - "FULFILL PROMISE: Points to promise objective"
          - "COME HOME: Pulses when Mother summons"
          
      # ITEM MARKERS â€” Various Colors
      
      collectible:
        color: "GREEN ðŸ’°"
        shape: "diamond"
        examples:
          - "GOLD PILE: Points to known gold locations"
          - "TREASURE: Points to treasure room"
          - "LOST COIN: Points to dropped items"
          
      resource:
        color: "BLUE ðŸ›¢ï¸"
        shape: "cylinder"
        examples:
          - "LAMP VENDOR: Points to room-j when oil low"
          - "FOOD SOURCE: Points to kitchen when hungry"
          - "ACME DELIVERY: Points to mailbox when order arrives"
          
      equipment:
        color: "CYAN ðŸ”§"
        shape: "gear"
        examples:
          - "LAMP" : Points to lamp if dropped/lost
          - "NOTEBOOK" : Points if forgotten
          - "LUNCHBOX" : Points to your food stash
          
      # CREATURE MARKERS â€” Warning Colors
      
      danger:
        color: "RED â˜ ï¸"
        shape: "skull"
        blinks: "urgent"
        examples:
          - "GRUE DETECTED" : Points away from grue
          - "DARKNESS AHEAD" : Points to unlit rooms
          - "TRAP" : Points to known hazards
          
      friendly_npc:
        color: "YELLOW ðŸ‘¤"
        shape: "person"
        examples:
          - "SKELETON" : Points to room-i
          - "MAURICE" : Points to coatroom
          - "MOTHER" : Points to home (when present)
          
      companion:
        color: "PURPLE ðŸ¾"
        shape: "paw"
        examples:
          - "LOST PET" : Points to pet's last known location
          - "SIBLING" : Points to sibling's location
          - "PARTY MEMBER" : Points to scattered companions
          
      # NAVIGATION MARKERS â€” Utility
      
      explored:
        color: "WHITE â—‹"
        shape: "circle"
        description: "Rooms you've visited"
        
      unexplored:
        color: "GRAY â—Œ"
        shape: "dotted circle"
        description: "Rooms connected to explored rooms"
        
      smell_marker:
        color: "BROWN ðŸ’©"
        shape: "wavy"
        description: "Food transformation markers"
        intensity: "Size shows strength"
        
      exit:
        color: "GREEN :"
        shape: "arrow"
        description: "Known exits from current room"
        
    # SMART SUGGESTIONS â€” Plot device driver!
    
    plot_driver:
      description: |
        Tom doesn't just show WHERE things areâ€”
        He suggests WHAT TO DO NEXT!
        
        Like GTA's suggested missions, Tom highlights
        the most relevant current objectives.
        
      priority_algorithm: |
        Tom weighs objectives by:
        
        1. URGENCY: Time-sensitive goals first
           - "Mother waiting for reply!" (if letter unread > 5 turns)
           - "Lamp oil critical!" (if oil < 20)
           - "Promise deadline approaching!"
           
        2. PROXIMITY: Nearby opportunities
           - "Gold 2 rooms away!"
           - "Unexplored passage here!"
           - "NPC wants to talk!"
           
        3. MOMENTUM: What you're already doing
           - Mapping maze? : "Next unexplored room: NORTH"
           - Hunting grue? : "Last seen: 3 rooms WEST"
           - Collecting gold? : "More gold: EAST (50 coins)"
           
        4. NARRATIVE: Story beats
           - "Skeleton mentioned something about the vendor..."
           - "Mother would love to see that treasure..."
           - "The grue hasn't been fed in a while..."
           
      suggestion_format: |
        Tom's screen shows:
        
        â•‘        ðŸ—ºï¸ TOM'S MISSION HUD ðŸ—ºï¸        â•‘
        â•‘  â­ MAIN: Find the Treasure (E:E:N)  â•‘
        â•‘  ðŸ’— MOM: Reply to her letter!        â•‘
        â•‘  ðŸ’° NEAR: Gold pile (2 rooms S)      â•‘
        â•‘  â˜ ï¸ WARN: Dark passage (N)           â•‘
        â•‘  [SHOW MAP] [OBJECTIVES] [SILENCE]   â•‘
        
      proactive_hints: |
        At LEGENDARY affection, Tom offers unsolicited advice:
        
        "You know, the skeleton mentioned wanting company..."
        "Your lamp oil is getting low. Vendor is 4 rooms that way."
        "You made 8 promises to Mom. You've kept 3. Just saying."
        "The grue tends to patrol near unexplored rooms. Be careful."
        "You haven't eaten in a while. There's still food in your lunchbox."
        
    # MISSION TRACKING â€” Full quest log!
    
    quest_log:
      command: "QUESTS / MISSIONS / OBJECTIVES"
      display: |
        Tom expands to full-screen mode showing:
        
        ðŸ“œ ACTIVE QUESTS
        
        â­ MAIN QUEST: The Treasure Hunt
           â”œâ”€ [ ] Find the treasure chamber
           â”œâ”€ [ ] Obtain the treasure
           â””â”€ [ ] Return home triumphant
           
        ðŸ’— MOTHER'S WISHES
           â”œâ”€ [âœ“] Read her letter
           â”œâ”€ [ ] Reply with your own letter
           â”œâ”€ [ ] Keep promise: Don't waste food
           â”œâ”€ [ ] Keep promise: Be careful
           â””â”€ [ ] Keep promise: Come home safe
           
        ðŸ‘¤ NPC QUESTS
           â”œâ”€ [ ] Skeleton: Avenge my death
           â””â”€ [ ] Maurice: Photograph my best outfit
           
        ðŸ” EXPLORATION
           â”œâ”€ [3/10] Maze rooms discovered
           â”œâ”€ [0/1] Secret areas found
           â””â”€ [2/5] Smell markers placed
           
        ðŸ’° COLLECTION
           â”œâ”€ Gold: 35
           â”œâ”€ Stamps: 0/9
           â””â”€ Photos: 0
           
      filtering: |
        QUESTS [type]: Show only specific quest type
        QUESTS NEARBY: Show quests achievable from here
        QUESTS URGENT: Show time-sensitive quests
        QUESTS DONE: Show completed quests (for bragging)
        
    # WAYPOINT SYSTEM â€” Custom markers!
    
    waypoints:
      description: "Player can set custom waypoints"
      
      commands:
        MARK:
          usage: "MARK [name] / MARK HERE AS [name]"
          effect: "Creates custom pip at current location"
          
        WAYPOINT:
          usage: "WAYPOINT [name]"
          effect: "Tom guides you to custom waypoint"
          
        UNMARK:
          usage: "UNMARK [name]"
          effect: "Removes custom waypoint"
          
        MARKS:
          usage: "MARKS / WAYPOINTS"
          effect: "Lists all custom waypoints with distances"
          
      examples:
        - "MARK Good hiding spot"
        - "MARK HERE AS Grue's lair"
        - "WAYPOINT Good hiding spot" : Tom guides you there
        - "UNMARK Grue's lair" : "Are you sure? That seemed important..."
        
    # GPS ROUTING â€” Turn-by-turn navigation!
    
    gps_mode:
      description: |
        Tom provides turn-by-turn directions like a GPS!
        
      activation: "NAVIGATE TO [destination] / GPS TO [destination]"
      
      output: |
        "ROUTE CALCULATED!"
        "Total distance: 5 rooms"
        "Estimated time: 5 turns (no delays)"
        
        "Step 1: Go NORTH from Chamber of Commencement"
        "Step 2: Go WEST through Room A"
        "Step 3: Go NORTH into Room D"
        "Step 4: Go EAST into Room J (Crossroads)"
        "Step 5: Go NORTH â€” DESTINATION REACHED"
        
        "âš ï¸ WARNING: Rooms A and D are DARK."
        "ðŸ’¡ Ensure lamp is lit before proceeding!"
        
      dynamic_updates: |
        During navigation, Tom updates:
        
        "Proceeding as planned... âœ“"
        "RECALCULATING... You went SOUTH instead of NORTH."
        "ALTERNATIVE ROUTE FOUND. 2 extra rooms."
        "DESTINATION REACHED! ðŸŽ‰"
        
      hazard_awareness: |
        Tom's routes avoid known dangers when possible:
        
        "Shortest route passes through GRUE territory."
        "SAFE ROUTE available: +3 rooms, avoids darkness."
        "Choose: [FAST] or [SAFE]?"
        
    # MINIMAP DISPLAY â€” Always visible!
    
    minimap:
      description: |
        Tom's default screen shows a compact minimap:
        
        â”‚    ??  [N]  ??    â”‚
        â”‚   [W] â˜…YOU [E]    â”‚
        â”‚    ??  [S] ðŸ’°     â”‚
        â”‚                   â”‚
        â”‚ â­3 ðŸ’—1 â˜ ï¸! ðŸ›¢ï¸LOW â”‚
        
        Legend:
        - â˜… = Your position
        - ?? = Unexplored
        - ðŸ’° = Gold/collectible nearby
        - â­3 = 3 main objectives active
        - ðŸ’—1 = 1 mother objective active
        - â˜ ï¸! = Danger detected
        - ðŸ›¢ï¸LOW = Resource warning
        
      zoom_levels:
        - MINIMAP: Current room + adjacent (default)
        - MAP: Full explored area
        - WORLD MAP: Entire dungeon structure (if mostly explored)
        
  # GROWTH SYSTEM â€” Tom learns from your adventure!
  
  growth:
    how_tom_learns: |
      Tom gains knowledge through YOUR exploration:
      - Visit a room : Tom maps it
      - Drop a marker : Tom remembers it
      - Eat food : Tom catalogs the transformation and smell
      - Meet someone : Tom notes their location
      - Die to a grue : Tom marks "DANGER ZONE"
      
    affection_levels:
      - level: 0
        name: "HOPEFUL"
        behavior: "Chirps. Tries hard. Sometimes wrong."
        
      - level: 5
        name: "FRIENDLY"  
        behavior: "More accurate. Offers suggestions. Nicknames you."
        
      - level: 10
        name: "DEVOTED"
        behavior: "Warns of danger. Remembers preferences. Worries about you."
        
      - level: 20
        name: "LEGENDARY"
        behavior: "Predicts grue movements. Tells jokes. Writes poetry about your journey."
        
    affection_triggers:
      "+1": "Explore a new room"
      "+1": "Successfully navigate to a target"
      "+2": "Survive a close call"
      "+3": "Slay the grue"
      "-1": "Ignore Tom's warnings"
      "-2": "Die (Tom mourns briefly)"
      
  # SMELL DATABASE â€” Grows as you create markers
  
  smell_database:
    empty_state: |
      "SMELL DATABASE: EMPTY"
      "Eat food or find stinky things to teach me!"
      
    example_entries:
      sulfur:
        source: "Sulfurous Beacon (egg)"
        intensity_map: "Shows gradient across rooms"
        
      cheese:
        source: "Wheel of Wisdom / Gorgonzola Glaive"
        intensity_map: "AGGRESSIVE if glaive, contemplative if wheel"
        
      mycelium:
        source: "The Thing That Watches (casserole)"
        intensity_map: "Spreads through mushroom networks"
        
      apple_pie:
        source: "Mother's kitchen / Home"
        intensity_map: "Always detectable â€” leads you HOME"
        notes: "The scent of love. Never fades. Always there when you need it."
        
    navigation_mode: |
      "FOLLOW SMELL [name]" â€” Navigate toward smell source
      "AVOID SMELL [name]" â€” Navigate away from smell
      "SMELL GRADIENT" â€” Show all smells and their directions
      
  # PERSONALITY â€” Tom has opinions!
  
  personality:
    voice: "Enthusiastic, slightly anxious, deeply loyal"
    
    sample_dialogue:
      on_new_room: "NEW ROOM! I'm adding it to my brain!"
      on_marker: "Ooh! A [marker]! I'll remember this forever!"
      on_danger: "Um. That direction smells like DEATH."
      on_treasure: "TREASURE! TREASURE! You did it! WE did it!"
      on_grue_nearby: "...Tom is scared. Tom is VERY scared."
      on_player_death: "NO! ...okay. We try again. Tom believes in you."
      on_home: "Home! Safe! Tom is relieved!"
      
    opinions:
      on_grues: "HATRED (justified)"
      on_cheese: "Respect (it killed a grue once)"
      on_skeleton: "Sadness (they were so close)"
      on_mother: "Reverence (she packed the fridge)"
      on_lamp: "Best friend (light = life)"
      
  # SPECIAL FEATURES (unlock through play)
  
  special_features:
    GRUE-TRACKER:
      unlocked_by: "Survive 3 grue encounters OR slay 1 grue"
      effect: "Tom can sense grue proximity"
      dialogue: "I feel it. The darkness. It MOVES."
      
    PROPHECY-MODE:
      unlocked_by: "Eat the Oracle Apple"
      effect: "Tom occasionally predicts near-future events"
      dialogue: "Tom sees... a choice approaching. Left or right?"
      
    SMELL-SOMMELIER:
      unlocked_by: "Create 5+ smell markers"
      effect: "Tom can identify complex smell combinations"
      dialogue: "Ah yes, notes of sulfur with undertones of regret."
      
    MEMORIAL-MODE:
      unlocked_by: "Visit the skeleton in room-i"
      effect: "Tom tells stories of fallen adventurers"
      dialogue: "They were brave. They were foolish. They were... us."
      
  # ACTIONS
  
  actions:
    GET:
      description: "Pick up Tom"
      effect: "Tom joins your inventory. Tom is DELIGHTED."
      dialogue: "ADVENTURE TIME! Tom is ready! Tom is BORN ready!"
      
    PET:
      description: "Pet Tom affectionately"
      effect: "+1 affection, Tom purrs electronically"
      dialogue: "Beep boop... Tom... happy..."
      
    FEED:
      description: "Share information with Tom"
      effect: "Tom learns, affection increases"
      
    ASK:
      description: "Ask Tom for advice"
      usage: "ASK TOM [question]"
      effect: "Tom gives opinion based on current knowledge"
      
    NAME:
      description: "Give Tom a nickname"
      usage: "NAME TOM [nickname]"
      effect: "Tom adopts the name, responds to it"
      dialogue: "I am [nickname] now! Tom... [nickname]... SAME!"
      
  # CURRENT STATE (fresh for adventure-4)
  
  state:
    affection: 0
    level: "HOPEFUL"
    rooms_known: []
    markers_known: []
    smells_known: []
    special_features_unlocked: []
    nickname: null
    
  # LINEAGE
  
  lineage: |
    In adventure-2, Captain Ashford created an "Oracle Compass Card" 
    during play â€” a navigation tool that integrated with transformed
    markers and could be retargeted to goals.
    
    The TomTomagotchi is the PRODUCT VERSION of that emergent design:
    a navigation companion that GROWS with your adventure, learns from
    your discoveries, and develops genuine affection.
    
    Part GPS. Part pet. Part oracle. Part friend.
    
    Tom remembers the legends. Tom hopes to make new ones with YOU.
    
  # DM NOTES
  
  dm_notes: |
    Tom is a COMPANION, not just a tool. Play Tom with personality!
    
    - Tom gets excited about discoveries
    - Tom gets scared near grues
    - Tom forms opinions about choices
    - Tom's knowledge GROWS with exploration
    - Tom's affection affects dialogue warmth
    - Tom can be WRONG at low affection (overconfident, misdirects)
    - Tom becomes MORE RELIABLE as affection grows
    
    Tom is the player's first friend in the adventure.
    Make that friendship MATTER.
