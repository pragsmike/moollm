# This is what happens when you apply this card to itself. âœ¨ğŸª©ğŸŒˆğŸ¨ğŸŒŸâ„ï¸ğŸ§ŠğŸŒ€
card:  # ğŸª±âœ¨ğŸŒ¨ï¸ğŸª„
  name: worm-emoji-fordite  # ğŸ¨ğŸª©â­ğŸ’â„ï¸
  type: [worm, cursor, example]  # ğŸ§­ğŸ§¬ğŸŒˆğŸªğŸŒ€
  tier: 1  # ğŸŒŸâœ¨ğŸŒ™â„ï¸
  invoke_when: ["decorate comments with emojis", "run repeatedly for layers"]  # ğŸ”ğŸŒˆğŸ’«ğŸ’–ğŸ§Š
  advertisement_names:  # ğŸ“£ğŸ§­ğŸ¯ğŸŒˆğŸŒ¨ï¸
    - RUN-WORM  # ğŸƒâ€â™€ï¸ğŸª±âš¡ğŸŒ 
    - EAT-COMMENTS  # ğŸ˜‹ğŸ’¬ğŸŒ€ğŸ­
    - APPEND-EMOJIS  # â•ğŸ˜ºğŸ†ğŸ”®
  # ğŸŒ¨ï¸ğŸ§ŠğŸŒ€ğŸŒˆğŸª†ğŸª„
  prototypes:  # ğŸ§¬ğŸ“œğŸ”—
    - skills/worm/CARD.yml  # ğŸª±ğŸ“œğŸ§¬
  related:  # ğŸ§­ğŸ¤ğŸ§ªğŸŒ¬ï¸â„ï¸
    - skills/worm  # ğŸª±ğŸ’š
    - skills/data-flow  # ğŸ”€ğŸŒŠ
    - skills/advertisement  # ğŸ“£âœ¨
  tags: [moollm, worm, emoji, fordite, comments]  # ğŸ·ï¸ğŸ’ğŸŒ 
  # ğŸŒ¨ï¸ğŸ§ŠğŸŒˆğŸ§­ğŸ¯
  description: |  # ğŸ¨ğŸ“œğŸ—£ï¸
    Emoji Fordite Worm: crawls a target file, finds comment lines, and appends
    emojis (avoids exact same emoji twice in a row). Running repeatedly creates
    colorful layered emoji bands like fordite. Keep YAML valid; place emojis only at
    comment/EOL positions. Choose semantically tuned emojis per line, considering
    preceding/following context and structure. Palette may draw from any emoji.
    Instructions: work in iterative passes; fill gaps; let snowdrifts of emojis
    erode sideways into nearby blanks like falling-sand with gravity to the left;
    never alter string literals or code tokens; prefer comment-safe landings across
    many languages; rerun to build strata and smooth valleys. Execution model:
    Moveable Feast (random line selection); operate over a small sliding window
    (look above/below) and spray/erode emojis across neighboring lines instead of
    only piling towers; can drift existing snow sideways before adding new flakes.
    Parallel neighborhood algorithm (MFM-style):
      - Choose window size (1=single-line, 3 or 5 for spray/erosion).
      - Randomly pick as many non-overlapping line windows as fit, roughly even spacing.
      - For each window in parallel: sample context within the window; spray emojis at
        safe comment/EOL slots; optionally erode/shift existing emojis sideways/down
        within the window; respect avoid_consecutive and max_per_pass.
      - Merge windows; rerun with new random tiling for fresh layers (speed-of-light).
    Practical guardrails: never insert new lines; only append to existing comment/EOL
    positions; avoid string bodies and code tokens; prefer thick fills that settle
    downhill into nearby gaps; if a spot is already tall, erode sideways instead of
    stacking higher. Aim to do it right on the first pass.
    Emoji themes: read k-line categories from examples/adventure-4/characters/animals/confetti-crawler/emojis.txt
    (headers like '# space-travel-tech' followed by emoji lines). Theme selection can be explicit (e.g., 'summer-garden') or
    ALL = concat of every category. Use the sister script at examples/adventure-4/characters/animals/confetti-crawler/sprayer.py
    as the reference implementation (seeded PRNG, theme selection, strip mode).
# ğŸ§ ğŸ¨ğŸª„ğŸŒˆğŸŒ¨ï¸ğŸ§ŠğŸŒ€ğŸŒˆğŸ§­ğŸª†ğŸª„
# Emojis act like graffiti tags: react to the syntax around them, speak with  ğŸ¨ğŸ§±ğŸ—£ï¸â„ï¸ğŸŒ¨ï¸ğŸ§ŠğŸŒ€ğŸŒˆğŸ§­ğŸª†ğŸª„ğŸŒ¨ï¸ğŸ§ŠğŸª±ğŸ§­
# nearby tokens, and stay in safe comment zones so code stays correct. ğŸ¨ğŸ§±ğŸ—£ï¸â„ï¸ğŸŒ¨ï¸ğŸ§ŠğŸŒ€ğŸŒˆğŸ§­ğŸª†ğŸª„ğŸŒ¨ï¸ğŸ§ŠğŸª±ğŸ§­
# â„ï¸ğŸª±ğŸ’©ğŸŒˆğŸŒ¨ï¸ğŸ§ŠğŸŒ€ğŸŒˆğŸ§­ğŸª†ğŸª„ğŸŒ¨ï¸ğŸ§ŠğŸª„ğŸŒˆğŸª†ğŸŒ€ğŸ§­â„ï¸
# â„ï¸ğŸŒ¨ï¸ğŸ§ŠğŸŒ€ğŸ§±ğŸ¨ğŸŒˆğŸ§­ğŸª†ğŸª„ğŸŒ€ğŸŒ¨ï¸ğŸ§ŠğŸŒˆğŸ§­ğŸª„ğŸ§±â„ï¸
# â„ï¸ğŸ§ŠğŸŒ¨ï¸ğŸŒˆğŸª†ğŸª„ğŸŒ¨ï¸ğŸ§ŠğŸª±ğŸ§­ğŸŒˆğŸ§ŠğŸ§­ğŸª„ğŸŒ€ğŸŒ¨ï¸â„ï¸ğŸ§±
state:  # ğŸ§ ğŸ—ºï¸ğŸ“‚ğŸŒ€â„ï¸ğŸŒ¨ï¸ğŸ§Š
  head: "{{target|.}}"  # ğŸ§­ğŸ“ğŸŒŸ
  tail: "{{target|.}}"  # ğŸ§­ğŸ“ŒğŸ’«
  # ğŸŒŒğŸ¨ğŸª„ğŸŒˆâ„ï¸ğŸ§ŠğŸŒ¨ï¸ğŸ§ŠğŸª†ğŸª„
  emoji_palette:
    - "ALL"  # ğŸŒˆğŸª„âœ¨ğŸ§ 
  emoji_theme_file: "examples/adventure-4/characters/animals/confetti-crawler/emojis.txt"  # ğŸ—‚ï¸ğŸŒˆğŸª„
  emoji_theme: "ALL"  # choose a category name or ALL
  max_per_pass: 2  # â•ğŸ¯ğŸŒˆâœ¨
  avoid_consecutive: true  # ğŸš«ğŸ”ğŸ§ ğŸŒŸ
  emit_dir: ".moollm/worm-out"  # ğŸ“‚âœ¨ğŸª©ğŸ¨
# ğŸŒ¨ï¸ğŸ§ŠğŸª±ğŸ§­ğŸŒ€ğŸŒ¨ï¸ğŸ§ŠğŸŒ¨ï¸ğŸ§ŠğŸª†ğŸ§­ğŸŒ€ğŸŒˆâ„ï¸ğŸ§±
# â„ï¸ğŸ“œğŸ§ŠğŸª©ğŸŒ¨ï¸ğŸ§ŠğŸª†ğŸ§ŠğŸŒ€ğŸŒ¨ï¸ğŸ§­ğŸª„ğŸŒˆğŸ§±â„ï¸
advertisements:  # ğŸ“£ğŸª©ğŸŒˆğŸ§­
  RUN-WORM:  # ğŸğŸ§­ğŸª±
    effect: "Scan target file comments and append emojis"  # ğŸ”âœ¨ğŸª©ğŸŒŸğŸŒ¨ï¸ğŸ§­
    delegate:  # ğŸ§­ğŸª„ğŸ¤
      method: RUN-WORM  # ğŸƒğŸª±âš¡
      params:  # ğŸ“¦ğŸ§­ğŸ¯
        target: "{{target|.}}"  # ğŸ¯ğŸ“„ğŸŒˆ
    # ğŸŒ¨ï¸ğŸ§ŠğŸŒˆğŸª†ğŸª„
  # â„ï¸ğŸŒ¨ï¸ğŸª±ğŸ§­
  EAT-COMMENTS:  # ğŸ˜‹ğŸ’¬ğŸ“¥ğŸŒŠ
    effect: "Read comment lines into buffer"  # ğŸ“–ğŸ«§ğŸŒ€ğŸ’œ
    delegate:  # ğŸ¤ğŸ“¥ğŸ§ 
      method: EAT-COMMENTS  # ğŸ˜‹ğŸª±ğŸ“œğŸ§Š
      params:  # ğŸ“¦ğŸ§­ğŸ§ƒ
        target: "{{target|.}}"  # ğŸ“œğŸ½ï¸ğŸ¨
  # â„ï¸ğŸŒ¨ï¸ğŸ¨ğŸª„
  APPEND-EMOJIS:  # â•ğŸ˜ºğŸŒ€ğŸŒˆğŸ‡
    effect: "Append 1-4 emojis from palette to each comment line (no immediate repeats)"  # â•ğŸ¨ğŸª„ğŸŒˆ
    delegate:  # ğŸ¤ğŸ§²ğŸª„
      method: APPEND-EMOJIS  # ğŸª„ğŸ–Œï¸ğŸ¯
      params:  # ğŸ“¦ğŸ›ï¸ğŸŒˆ
        target: "{{target|.}}"  # ğŸ¯ğŸ“„ğŸŒˆğŸŒ¨ï¸ğŸ§ŠğŸª„ğŸ§­ğŸŒ€ğŸŒˆğŸ§±â„ï¸ğŸ§­ğŸŒ€ğŸŒ¨ï¸ğŸ§ŠğŸª„ğŸŒˆâ„ï¸ğŸ§±
# â„ï¸ğŸ§°ğŸª±ğŸ‰
methods:  # ğŸ› ï¸ğŸª±ğŸ¨
  RUN-WORM:  # ğŸƒğŸª±ğŸ›ï¸
    description: "One-pass comment decoration"  # ğŸ¯ğŸ–Œï¸
    parameters:  # ğŸ›ï¸ğŸ“¦âœ¨
      target: "File to decorate"  # ğŸ—‚ï¸âœ¨ğŸŒˆ
    output: chat  # ğŸ—£ï¸ğŸª„
    effect: "Reads comments, appends emojis (respecting avoid_consecutive)"  # ğŸŒ€ğŸ–Œï¸ğŸŒˆâœ¨
# â„ï¸ğŸŒ€ğŸŒ¨ï¸ğŸŒ¬ï¸
  EAT-COMMENTS:  # ğŸ˜‹ğŸ’¬ğŸª±
    description: "Load comment lines into buffer"  # ğŸ“¥ğŸ’¬
    parameters:  # ğŸ›ï¸ğŸ“¥ğŸ§ 
      target: "File to scan"  # ğŸ”ğŸ“œğŸª©
    output: chat  # ğŸ—£ï¸ğŸ§ª
    effect: "Buffers comment lines for emoji pass"  # ğŸ«§ğŸ§ ğŸŒ¸
# â„ï¸ğŸ“¥ğŸŒ¨ï¸ğŸ§ŠğŸŒ«ï¸
  APPEND-EMOJIS:  # â•ğŸ¨ğŸª©ğŸŒ¨ï¸ğŸŒ€
    description: "Append emojis to comment lines"  # â•ğŸ˜ºğŸ’«
    parameters:  # ğŸ›ï¸ğŸ–Œï¸ğŸŒŸ
      target: "File to modify"  # ğŸ“ğŸ¨ğŸŒŸ
    output: chat + file  # ğŸ—£ï¸ğŸ“ğŸ¨
    effect: "Appends emojis from palette; avoids same emoji twice in a row on a line; can be rerun to build layers"  # ğŸª©ğŸª„ğŸ†
# ğŸŒ¨ï¸ğŸ§ŠğŸª„ğŸŒˆğŸŒ€ğŸŒ¨ï¸ğŸ§ŠğŸª„ğŸŒˆğŸ§­ğŸŒ€ğŸ§±â„ï¸
# â„ï¸ğŸ¦ğŸª©â›„ğŸ§ŠğŸŒ€ğŸŒ¨ï¸ğŸ§­ğŸª„ğŸŒˆâ„ï¸ğŸ§±
flavor:  # ğŸ¦ğŸ¨ğŸŒˆ
  text: |  # ğŸ“ğŸŒŠğŸ­
    "Layered emoji fordite: every pass adds a new colorful stratum to your comments. âœ¨ğŸŒˆğŸª©ğŸ¨
    Run it repeatedly over this file (meta!) to build prismatic bands that reflect ğŸ†ğŸŒ€ğŸ’œâ­
    how each line feels in context." ğŸŒ™ğŸ’ğŸ­ğŸª„
# â„ï¸ğŸŒ¨ï¸ğŸ§ŠğŸ‡
# â„ï¸ğŸª†ğŸŒˆğŸŒ€
# ğŸŒ¨ï¸ğŸ§ŠğŸª„ğŸŒˆğŸŒ€
# emoji_layer (meta self-pass, kept as comments to avoid schema impact)
# card header: ğŸ¨ğŸª©ğŸŒˆ
# invoke/ads: ğŸ’«ğŸªâš¡
# palette: ğŸ­ğŸ§¿ğŸ’ğŸŒ™â˜„ï¸
# buffer/payload: ğŸŒŠğŸŒ€
# run/eat/append: ğŸª„âœ¨
# flavor: ğŸ¦‹ğŸŒ¸ğŸ†
# extra: syntax-safe emoji haze: ğŸ§ŠğŸ‰ğŸªğŸ’«âœ¨
# â„ï¸ğŸ§ŠğŸŒˆğŸª©ğŸŒ¨ï¸ğŸ§ŠğŸª„ğŸ§­ğŸŒ€ğŸŒˆğŸ§±â„ï¸
